{"version":3,"sources":["../sdk/scripts/buildfire/components/carouselLight/carouselLight.js"],"names":["buildfire","components","carousel","lory","document","write","style","getElementById","head","removeChild","createElement","id","innerHTML","appendChild","view","options","self","this","resizeTimeout","config","mergeSettings","_initDimensions","layout","selector","querySelector","_attachEventListeners","items","length","_applyConfigurations","err","result","shouldInitializeLory","init","_renderStaticSlides","display","console","error","window","addEventListener","clearTimeout","setTimeout","loadItems","lastCarouselTimer","prototype","lastImage","callback","autoInterval","order","clearInterval","storagePlace","getFrameType","localStorage","getItem","res","images","sendIndex","item","index","Number","setItem","e","r","setInterval","_changeImage","bind","Math","floor","random","removeItem","_randomizeArray","_shuffle","imagesCopy","Array","from","push","first","last","j","x","i","carouselImages","carouselImage","_changeStaticSlides","indexOf","isHome","activeSlide","siblingSlide","nextSibling","nextSlide","querySelectorAll","children","src","classList","remove","add","forEach","slide","iconUrl","actionItems","execute","warn","_resizeImage","_cropImage","attrName","settings","speed","loop","userSettings","_minHeight","validateLauncherCarousel","getContext","device","platform","toLowerCase","navigation","onAppLauncherActive","_applySlider","onAppLauncherInactive","_destroySlider","_renderHTMLItems","timerInterval","lorySlider","classNameSlideContainer","classNameFrame","ease","rewindSpeed","slideSpeed","slidesToScroll","infinite","enableMouseEvents","next","firstChild","sliderFrame","cname","slideContainer","_loadImages","itemsLength","pending","_appendItem","itemSlide","preventClicks","append","setup","appendItems","width","innerWidth","height","ceil","aspect","innerHeight","cssWidth","cssHeight","imageLib","local","cropImage","size","image","backgroundImage","blur","alt","title","className","setAttribute","overflow","transform","resizeImage"],"mappings":"aAEA,GAA0B,oBAAf,UAA4B,KAAM,gEAER,IAAzBA,UAAoB,aAC/BA,UAAUC,WAAa,SAEsB,IAAlCD,UAAUC,WAAmB,WACxCD,UAAUC,WAAWC,SAAW,IAEjC,WACoB,oBAARC,MACVC,SAASC,MAAM,8DAIhB,IAAIC,EAAQF,SAASG,eAAe,qBAChCD,GAAOF,SAASI,KAAKC,YAAYH,IAErCA,EAAQF,SAASM,cAAc,UACzBC,GAAK,oBACXL,EAAMM,WAAa,wGACnBN,EAAMM,WAAa,6EACnBN,EAAMM,WAAa,yCACnBN,EAAMM,WAAa,gEACnBN,EAAMM,WAAa,sCACnBN,EAAMM,WAAa,iGACnBN,EAAMM,WAAa,+EACnBN,EAAMM,WAAa,4CACnBN,EAAMM,WAAa,oDAEnBR,SAASI,KAAKK,YAAYP,GArB3B,GAyBAN,UAAUC,WAAWC,SAASY,KAAO,SAAUC,GAC9C,IAAIC,EAAOC,KACPC,EACJD,KAAKE,OAASF,KAAKG,cAAcL,GACjCE,KAAKI,gBAAgBL,EAAKG,OAAOG,QACjCL,KAAKM,SAA2C,iBAAzBN,KAAKE,OAAOI,SAAwBnB,SAASoB,cAAcP,KAAKE,OAAOI,UAAYN,KAAKE,OAAOI,SACtHN,KAAKQ,wBACDV,EAAQW,OAAgC,EAAvBX,EAAQW,MAAMC,QAClCV,KAAKW,qBAAqBb,EAAS,CAACc,EAAKC,KACpCA,EAAOC,qBACVf,EAAKgB,OAELhB,EAAKiB,oBAAoBlB,EAAQW,SAG/BX,EAAQQ,SACXR,EAAQQ,SAASjB,MAAM4B,QAAU,GAEjCC,QAAQC,MAAM,wCAIXrB,EAAQQ,SACXR,EAAQQ,SAASjB,MAAM4B,QAAU,OAEjCC,QAAQC,MAAM,uCAIhBC,OAAOC,iBAAiB,SAAU,KAC7BpB,IACHqB,aAAarB,GACbA,EAAgB,MAEjBA,EAAgBsB,WAAW,KACtBxB,EAAKG,OAAOO,OAASV,EAAKG,OAAOO,MAAMC,QAC1CX,EAAKyB,UAAUzB,EAAKG,OAAOO,OAAO,IAEjC,QAGL1B,UAAUC,WAAWC,SAASY,KAAK4B,kBAAoB,KAEvD1C,UAAUC,WAAWC,SAASY,KAAK6B,UAAY,CAC9CC,UAAW,KACRhB,qBAAsB,SAASb,EAAS8B,GAC1C,IAAI7B,EAAOC,KACP,CAAES,MAAAA,EAAOoB,aAAAA,EAAcC,MAAAA,EAAOb,QAAAA,GAAYnB,EAC1Cf,UAAUC,WAAWC,SAASY,KAAK4B,oBACtCM,cAAchD,UAAUC,WAAWC,SAASY,KAAK4B,mBACjD1C,UAAUC,WAAWC,SAASY,KAAK4B,kBAAoB,MAGxD,IAAIO,EADqC,mBAA5BjD,UAAUkD,eACO,wBAA0B,oBAC3C,GAATH,GAAyB,GAAXb,GAA+B,EAAfR,EAAMC,OACvC3B,UAAUmD,aAAaC,QAAQH,EAAc,SAASpB,EAAKwB,GAC1D,IAAIC,EAAS5B,EACT6B,EAAY,EACZC,EAAO,KACX,IAGKC,EAHM,MAAPJ,IAIW,IADVI,EAAQC,OAAOL,KACAI,GAAS/B,EAAMC,OAAS,EAH3C6B,EAAO9B,EAAM,IAIP8B,EAAO9B,EAAM+B,EAAQ,GAAIF,EAAYE,EAAQ,GAEpDzC,EAAK4B,UAAYY,EACjBxD,UAAUmD,aAAaQ,QAAQV,EAAcM,EAAW,SAASK,EAAGC,GAC/C,GAAhBf,IAAmB9C,UAAUC,WAAWC,SAASY,KAAK4B,kBAAoBoB,YAAY9C,EAAK+C,aAAaC,KAAKhD,GAAOA,EAAKG,OAAO2B,aAAcQ,GAAQ,MAE3JT,EAAS,KAAM,CAACd,sBAAsB,MAEpB,GAATgB,GAAyB,GAAXb,GAA+B,EAAfR,EAAMC,QAC1B,GAAhBmB,IACH9C,UAAUC,WAAWC,SAASY,KAAK4B,kBAAoBoB,YAAY7C,KAAK8C,aAAaC,KAAK/C,MAAOA,KAAKE,OAAO2B,aAAcpB,GAAO,IAEnI8B,KAAO9B,EAAMuC,KAAKC,MAAMD,KAAKE,SAAWzC,EAAMC,SAC9CV,KAAK2B,UAAYY,KACjBxD,UAAUmD,aAAaiB,WAAWnB,GAClCJ,EAAS,KAAM,CAACd,sBAAsB,KACnB,GAATgB,GAAyB,GAAXb,GAA+B,EAAfR,EAAMC,QAC9CV,KAAKoD,gBAAgB3C,GACrB1B,UAAUmD,aAAaiB,WAAWnB,GAClCJ,EAAS,KAAM,CAACd,sBAAsB,KAEtCc,EAAS,KADY,GAAXX,EACK,CAACH,sBAAsB,GAEvB,CAACA,sBAAsB,KAGxCsC,gBAAiB,SAAUf,GACpBrC,KAAKqD,SAAShB,EAAQ,KAAM,MAC5B,IAAIiB,EAAaC,MAAMC,KAAKnB,GAC5BrC,KAAKqD,SAASC,EAAY,KAAMjB,EAAOA,EAAO3B,OAAU,IACxD2B,EAAOoB,QAAQH,GACftD,KAAKqD,SAASC,EAAYjB,EAAO,GAAIA,EAAOA,EAAO3B,OAAS,IAC5D2B,EAAOoB,QAAQH,IAEtBD,SAAU,SAAUhB,EAAQqB,EAAOC,GAC5B,IAAIC,EAAGC,EAAGC,EACV,IAAKA,EAAIzB,EAAO3B,OAAS,EAAO,EAAJoD,EAAOA,IAC/BF,EAAIZ,KAAKC,MAAMD,KAAKE,UAAYY,EAAI,IACpCD,EAAIxB,EAAOyB,GACXzB,EAAOyB,GAAKzB,EAAOuB,GACnBvB,EAAOuB,GAAKC,EAEhB,OAAIF,GAAQtB,EAAO,IAAMqB,GAASrB,EAAOA,EAAO3B,OAAS,GAAWV,KAAKqD,SAAShB,EAAQqB,EAAOC,GACrFtB,GAEnBS,aAAc,SAAUiB,EAAgBb,GACjC,IAAInD,EAAOC,KACbgE,EAAgB,KACd,GAAId,EACIlD,KAAKiE,oBAAoBF,GAAgB,OAC1C,CACCvB,EAAQuB,EAAeG,QAAQlE,KAAK2B,WACxC,IAAIW,EAAY,GACF,GAAVE,GAAeA,GAASuB,EAAerD,OAAS,EAC5DsD,EAAgBD,EAAe,IAE/BC,EAAgBD,EAAevB,EAAQ,GACvCF,EAAYE,EAAQ,GAEZxC,KAAK2B,UAAYqC,EACbG,EAAqC,mBAA5BpF,UAAUkD,eAEvBlD,UAAUmD,aAAaQ,QADJ,EAAW,wBAA0B,oBACXJ,EAAW,SAASK,EAAGC,GAChE7C,EAAKkE,oBAAoBF,OAIxCE,oBAAqB,SAAUF,EAAgBb,GAC9C,IAAIkB,EAAcjF,SAASoB,cAAc,iCACrC8D,EAAeD,EAAYE,YAC/B,GAAIpB,EAAQ,CACX,IAAIqB,EAAYpF,SAASqF,iBAAiB,0BAA0BxB,KAAKC,MAAMD,KAAKE,SAAWa,EAAerD,SAC1G6D,EAAUE,SAAS,GAAGC,KAAON,EAAYK,SAAS,GAAGC,IACxD1E,KAAKiE,oBAAoBF,GAAgB,IAEzCK,EAAYO,UAAUC,OAAO,UAC7BL,EAAUI,UAAUE,IAAI,gBAGzBT,EAAYO,UAAUC,OAAO,WACzBP,GAGHlF,SAASoB,cAAc,2BAFVoE,UAAUE,IAAI,WAM9B7D,oBAAqB,SAAU+C,GAC9B,IAAIhE,EAAOC,KACXA,KAAKM,SAASX,UAAY,GAC1BoE,EAAee,QAAQ,CAACd,EAAexB,KACtC,IAAIuC,EAAQ5F,SAASM,cAAc,OACnCsF,EAAMJ,UAAUE,IAAI,WAAY,iBACnB,GAATrC,IAAezC,EAAK4B,WAEb5B,EAAK4B,WAAa5B,EAAK4B,UAAUqD,SAAWhB,EAAcgB,UADpED,EAAMJ,UAAUE,IAAI,UAIrBE,EAAM1D,iBAAiB,QAAS,WAC/BtC,UAAUkG,YAAYC,QAAQlB,EAAe,SAAUpD,EAAKC,GACvDD,GACHM,QAAQiE,KAAK,gCAAiCvE,OAK7Cd,EAAU,CACbyC,KAAMyB,EACNe,MAAOA,GAEW,OAAfhF,EAAKM,OACRN,EAAKqF,aAAatF,EAAS,CAACc,EAAKC,KAC5BD,GAAMM,QAAQC,MAAM,wCAAyCP,GACjEb,EAAKO,SAASV,YAAYmF,KAG3BhF,EAAKsF,WAAWvF,EAAS,CAACc,EAAKC,KAC1BD,GAAMM,QAAQC,MAAM,wCAAyCP,GACjEb,EAAKO,SAASV,YAAYmF,OAIX5F,SAASoB,cAAc,kCAExCpB,SAASoB,cAAc,0BAA0BoE,UAAUE,IAAI,WAGjE1E,cAAe,SAAUL,GACxB,IAWSwF,EAXLC,EAAW,CACdjF,SAAU,iBACVG,MAAO,GACPJ,OAAQ,KACRmF,MAAO,IACPC,MAAM,EACN5D,aAAc,IACdZ,QAAS,EACTa,MAAO,GAEJ4D,EAAe5F,EACnB,IAASwF,KAAYI,EACpBH,EAASD,GAAYI,EAAaJ,GAEnC,OAAOC,GAERxE,KAAM,WACL,IAAKf,KAAKM,SACT,KAAM,qBAIPN,KAAKM,SAASjB,MAAM,cAAgBW,KAAK2F,WAEzC,IAAI5F,EAAOC,KAEX,SAAS4F,IACR7G,UAAU8G,WAAW,SAAUjF,EAAKC,GAC/BA,GAAUA,EAAOiF,QAAUjF,EAAOiF,OAAOC,UAAoD,OAAxClF,EAAOiF,OAAOC,SAASC,eAAsD,mBAA5BjH,UAAUkD,iBACnHlD,UAAUkH,WAAWC,oBAAoB,WACxCnG,EAAKoG,iBACH,GACHpH,UAAUkH,WAAWG,sBAAsB,WAC1CrG,EAAKsG,mBACH,MAKFrG,KAAKE,OAAOO,OAAoC,EAA3BT,KAAKE,OAAOO,MAAMC,OAC1CV,KAAKsG,iBAAiB,WACrBvG,EAAKoG,eACLP,OAGD7F,EAAKoG,eACLP,MAGFS,eAAgB,WACXrG,KAAKuG,gBACRxE,cAAc/B,KAAKuG,eACnBvG,KAAKuG,cAAgB,OAGvBJ,aAAc,WAcb,IACKpG,EAdAC,KAAKwG,aACTxG,KAAKwG,WAAatH,KAAKc,KAAKE,OAAOI,SAAU,CAC5CmG,wBAAyBzG,KAAKE,OAAOuG,yBAA2B,YAChEC,eAAgB1G,KAAKE,OAAOwG,gBAAkB,WAC9CC,KAAM,OACNC,YAAa,IACbC,WAAY7G,KAAKE,OAAOsF,MACxBsB,eAAgB9G,KAAKE,OAAO4G,gBAAkB,EAC9CC,SAAqC,EAA3B/G,KAAKE,OAAOO,MAAMC,OAAa,EAAI,EAC7CsG,mBAAmB,KAIjBhH,KAAKE,OAAOuF,MAAQzF,KAAKE,OAAOO,OAAoC,EAA3BT,KAAKE,OAAOO,MAAMC,UAC1DX,EAAOC,MAEFuG,gBACRxE,cAAc/B,KAAKuG,eACnBvG,KAAKuG,cAAgB,MAGtBvG,KAAKuG,cAAgB1D,YAAY,WAChC9C,EAAKyG,WAAWS,QACdjH,KAAKE,OAAO2B,gBAGjByE,iBAAkB,SAAU1E,GAG3B,IAFA,IAAI7B,EAAOC,KAEJA,KAAKM,SAAS4G,YACpBlH,KAAKM,SAASd,YAAYQ,KAAKM,SAAS4G,YAGzClH,KAAKmH,YAAchI,SAASM,cAAc,OAC1C,CAAC,YAAa,YAAYqF,QAAQ,SAAUsC,GAC3CrH,EAAKoH,YAAYxC,UAAUE,IAAIuC,KAGhCpH,KAAKqH,eAAiBlI,SAASM,cAAc,MAC7C,CAAC,aAAc,aAAaqF,QAAQ,SAAUsC,GAC7CrH,EAAKsH,eAAe1C,UAAUE,IAAIuC,KAGnCpH,KAAKsH,YAAYtH,KAAKE,OAAOO,MAAO,WACnC,CAAC,SAAU,gBAAiB,kBAAkBqE,QAAQ,SAAUsC,GAC/DrH,EAAKO,SAASqE,UAAUE,IAAIuC,KAG7BrH,EAAKoH,YAAYvH,YAAYG,EAAKsH,gBAClCtH,EAAKO,SAASV,YAAYG,EAAKoH,aAE/BvF,OAGF0F,YAAa,SAAU7G,EAAOmB,GAC7B,IAAI7B,EAAOC,KAEPuH,EAAc9G,EAAMC,OACpB8G,EAAUD,EAEK,GAAfA,GACH3F,IAGD,IAAK,IAAIkC,EAAI,EAAGA,EAAIyD,EAAazD,IAChC9D,KAAKyH,YAAYhH,EAAMqD,GAAI,SAAU4D,GACpCF,IACAzH,EAAKsH,eAAezH,YAAY8H,GAEjB,GAAXF,GACH5F,OAKJ6F,YAAa,SAAUlF,EAAMX,GAC5B,IAAI7B,EAAOC,KACP+E,EAAQ5F,SAASM,cAAc,MACnCsF,EAAMJ,UAAUE,IAAI,YAEpBE,EAAM1D,iBAAiB,QAAS,WAC3BtB,EAAK4H,eAGT5I,UAAUkG,YAAYC,QAAQ3C,EAAM,SAAU3B,EAAKC,GAC9CD,GACHM,QAAQiE,KAAK,gCAAiCvE,OAKjD,IAAId,EAAU,CAAEyC,KAAAA,EAAMwC,MAAAA,GACH,OAAfhF,EAAKM,OACRL,KAAKoF,aAAatF,EAAS,CAACc,EAAKC,KAC5BD,GAAMM,QAAQC,MAAM,wCAAyCP,GACjEgB,EAASmD,KAGV/E,KAAKqF,WAAWvF,EAAS,CAACc,EAAKC,KAC1BD,GAAMM,QAAQC,MAAM,wCAAyCP,GACjEgB,EAASmD,MAKZ6C,OAAQ,SAAUnH,GACjB,IAGCA,EAHIA,IAEMA,aAAiB8C,OAA2B,iBAAX,EAGxC9C,EAFK,CAACA,MAEGA,aAAiB8C,OAAS9C,EAAMC,OAAQ,CACpD,IAAK,IAAIoD,EAAI,EAAGA,EAAIrD,EAAMC,OAAQoD,IACjC9D,KAAKE,OAAOO,MAAMgD,KAAKhD,EAAMqD,IAE9B,IAAI/D,EAAOC,KACgB,GAAvBA,KAAKE,OAAOe,SACfjB,KAAKqH,eAAe1H,UAAY,GAChCK,KAAKsH,YAAYtH,KAAKE,OAAOO,MAAO,WACJ,EAA3BV,EAAKG,OAAOO,MAAMC,SAAeX,EAAKwG,eACzCxG,EAAKyG,WAAa,KAClBzG,EAAKoG,gBAELpG,EAAKyG,WAAWqB,WAIlB7H,KAAKgB,oBAAoBhB,KAAKE,OAAOO,SAIxCe,UAAW,SAAUf,EAAOqH,GAC3B,GAAIA,EACH9H,KAAK4H,OAAOnH,OACN,CACN,IAAIV,EAAOC,KACXA,KAAKE,OAAOO,MAAQA,EACO,GAAvBT,KAAKE,OAAOe,SACU,GAArBjB,KAAKE,OAAO4B,OACf9B,KAAKoD,gBAAgB3C,GAEtBT,KAAKqH,eAAe1H,UAAY,GAChCK,KAAKsH,YAAY7G,EAAO,WACJ,EAAfA,EAAMC,SAAeX,EAAKwG,eAC7BxG,EAAKyG,WAAa,KAClBzG,EAAKoG,gBACK1F,EAAMC,QAAU,GAAKX,EAAKwG,eACpCxG,EAAKsG,iBACLtG,EAAKyG,WAAa,KAClBzG,EAAKoG,gBAELpG,EAAKyG,WAAWqB,YAId9I,UAAUC,WAAWC,SAASY,KAAK4B,oBACtCM,cAAchD,UAAUC,WAAWC,SAASY,KAAK4B,mBACjD1C,UAAUC,WAAWC,SAASY,KAAK4B,kBAAoB,MAExDzB,KAAKgB,oBAAoBP,GACN,EAAfA,EAAMC,SACT3B,UAAUC,WAAWC,SAASY,KAAK4B,kBAAoBoB,YAAY7C,KAAK8C,aAAaC,KAAK/C,MAAOA,KAAKE,OAAO2B,aAAcpB,EAAOT,KAAKE,OAAO4B,WAKlJ1B,gBAAiB,SAAUC,GAC1BL,KAAK+H,MAAQ3G,OAAO4G,WAGN,eADd3H,GADAL,KAAKK,OAASA,IACK,eAElBL,KAAKiI,OAASjF,KAAKkF,KAAK,EAAIlI,KAAK+H,MAAQ,IACzC/H,KAAKmI,OAAS,QACM,UAAV9H,GACVL,KAAKiI,OAASjI,KAAK+H,MACnB/H,KAAKmI,OAAS,OACM,UAAV9H,GACVL,KAAKiI,OAASjF,KAAKkF,MAASlI,KAAK+H,MAAQ,MACzC/H,KAAKmI,OAAS,UACM,gBAAV9H,GAAsC,OAAVA,GACtCL,KAAKiI,OAAU7G,OAAOgH,YAAcpI,KAAK+H,MAAS/H,KAAK+H,MACvD/H,KAAKmI,OAAS,QAEdnI,KAAKiI,OAASjF,KAAKkF,KAAK,EAAIlI,KAAK+H,MAAQ,IAG1C/H,KAAKqI,SAAWrI,KAAK+H,MAAQ,KACX,IAAd/H,KAAKiI,OACRjI,KAAKsI,UAAY,QAEjBtI,KAAKsI,UAAYtI,KAAKiI,OAAS,KAIhCjI,KAAK2F,WAAa3F,KAAKsI,WAExBjD,WAAY,SAASvF,EAAS8B,GAC7B,IAAI7B,EAAOC,KACP,CAAEuC,KAAAA,EAAMwC,MAAAA,GAAUjF,EACtBf,UAAUwJ,SAASC,MAAMC,UAAUlG,EAAKyC,QAAS,CAChD+C,MAAO/H,KAAK+H,MACZE,OAAQjI,KAAKiI,OACbE,OAAQnI,KAAKmI,OACbO,KAAM,cACJ,SAAU9H,EAAKC,GACjB,GAAKD,EAoBJgB,EAAShB,EAAK,UApBL,CACT,IAAI+H,EAAQxJ,SAASM,cAAc,OAC/BmJ,EAAkBzJ,SAASM,cAAc,OAC7CkJ,EAAMjE,IAAM7D,EACZ+H,EAAgBlE,IAAM3F,UAAUwJ,SAASE,UAAUlG,EAAKyC,QAAS,CAChEiD,OAAQjF,KAAKkF,KAAKnI,EAAKkI,OAAS,IAChCF,MAAO/E,KAAKkF,KAAKnI,EAAKgI,MAAQ,IAC9Bc,KAAM,KAEPF,EAAMG,IAAMF,EAAgBE,IAAMvG,EAAKwG,OAAS,GAChDH,EAAgBI,UAAY,2BAC5BJ,EAAgBK,aAAa,2CAA4ClJ,EAAKkI,oEAC9ElD,EAAM1F,MAAM6J,SAAW,SACvBP,EAAMtJ,MAAM8J,UAAY,gBACN,IAAdpJ,EAAKkI,QACRlD,EAAMnF,YAAYgJ,GAEnB7D,EAAMnF,YAAY+I,GAClB/G,EAAS,KAAMf,OAMlBuE,aAAc,SAAStF,EAAS8B,GAC/B,IAAI7B,EAAOC,KACP,CAAEuC,KAAAA,EAAMwC,MAAAA,GAAUjF,EACtBf,UAAUwJ,SAASC,MAAMY,YAAY7G,EAAKyC,QAAS,CAClDiD,OAAQlI,EAAKkI,QACX,SAAUrH,EAAKC,GACjB,GAAKD,EAkBJgB,EAAShB,EAAK,UAlBL,CACT,IAAI+H,EAAQxJ,SAASM,cAAc,OAC/BmJ,EAAkBzJ,SAASM,cAAc,OAC7CkJ,EAAMjE,IAAM7D,EACZ+H,EAAgBlE,IAAM3F,UAAUwJ,SAASE,UAAUlG,EAAKyC,QAAS,CAChEiD,OAAQjF,KAAKkF,KAAKnI,EAAKkI,OAAS,IAChCF,MAAO/E,KAAKkF,KAAKnI,EAAKgI,MAAQ,IAC9Bc,KAAM,KAEPF,EAAMG,IAAMF,EAAgBE,IAAMvG,EAAKwG,OAAS,GAChDH,EAAgBI,UAAY,2BAC5BJ,EAAgBK,aAAa,2CAA4ClJ,EAAKkI,oEAC9EU,EAAMtJ,MAAM8J,UAAY,gBACxBpE,EAAMkE,aAAa,QAAS,8CAC5BlE,EAAMnF,YAAYgJ,GAClB7D,EAAMnF,YAAY+I,GAClB/G,EAAS,KAAMf,OAMlBL,sBAAuB,WACtB,IAAIT,EAAOC,KAEXA,KAAKM,SAASe,iBAAiB,oBAAqB,WAC9CtB,EAAK4H,gBACT5H,EAAK4H,eAAgB,KAGvB3H,KAAKM,SAASe,iBAAiB,mBAAoB,WAClDE,WAAW,KACVxB,EAAK4H,eAAgB,GACnB","file":"carouselLight.min.js","sourcesContent":["'use strict';\n\nif (typeof (buildfire) == 'undefined') throw ('please add buildfire.js first to use carousel components');\n\nif (typeof (buildfire.components) == 'undefined')\n\tbuildfire.components = {};\n\nif (typeof (buildfire.components.carousel) == 'undefined')\n\tbuildfire.components.carousel = {};\n\n(function () {\n\tif (typeof lory == 'undefined') {\n\t\tdocument.write('<script src=\"' + '../../../scripts/lory/lory.min.js\"></script>');\n\t}\n\n\t//Add Lory CSS\n\tvar style = document.getElementById('loryInjectedStyle');\n\tif (style) document.head.removeChild(style);\n\n\tstyle = document.createElement('style');\n\tstyle.id = 'loryInjectedStyle';\n\tstyle.innerHTML += ' .loryFrame {position: relative;font-size: 0; line-height: 0; overflow: hidden; white-space: nowrap;}';\n\tstyle.innerHTML += ' .loryFrame li { position: relative; display: inline-block; height: 100%;}';\n\tstyle.innerHTML += ' .lorySlides { display: inline-block;}';\n\tstyle.innerHTML += ' .loryPercentage .lorySlides { display: block; padding: 0px;}';\n\tstyle.innerHTML += ' .loryPercentage li { width: 100%;}';\n\tstyle.innerHTML += ' .js_slide { text-align: center; position: relative; max-height: 380px; vertical-align: top; }';\n\tstyle.innerHTML += ' .js_slide img { max-height: 380px; width: auto !important; margin: 0 auto }';\n\tstyle.innerHTML += ' .js_slide.static_slide { display: none }';\n\tstyle.innerHTML += ' .js_slide.static_slide.active { display: block }';\n\n\tdocument.head.appendChild(style);\n})();\n// This is the class that will be used in the mobile\n//{selector:selector, items:items, layout:layout, speed:speed}\nbuildfire.components.carousel.view = function (options) {\n\tlet self = this;\n\tlet resizeTimeout;\n\tthis.config = this.mergeSettings(options);\n\tthis._initDimensions(self.config.layout);\n\tthis.selector = typeof this.config.selector === 'string' ? document.querySelector(this.config.selector) : this.config.selector;\n\tthis._attachEventListeners();\n\tif (options.items && options.items.length > 0) {\n\t\tthis._applyConfigurations(options, (err, result) => {\n\t\t\tif (result.shouldInitializeLory) { // loryCarousel\n\t\t\t\tself.init();\n\t\t\t} else {\n\t\t\t\tself._renderStaticSlides(options.items);\n\t\t\t}\n\t\t});\n\t\tif (options.selector) {\n\t\t\toptions.selector.style.display = '';\n\t\t} else {\n\t\t\tconsole.error('Selector element should be provided');\n\t\t}\n\t\t\n\t} else {\n\t\tif (options.selector) {\n\t\t\toptions.selector.style.display = 'none';\n\t\t} else {\n\t\t\tconsole.error('Selector element should be provided');\n\t\t}\n\t}\n\t\n\twindow.addEventListener('resize', () => { // rerender items on window resize\n\t\tif (resizeTimeout) {\n\t\t\tclearTimeout(resizeTimeout);\n\t\t\tresizeTimeout = null;\n\t\t}\n\t\tresizeTimeout = setTimeout(() => {\n\t\t\tif (self.config.items && self.config.items.length) {\n\t\t\t\tself.loadItems(self.config.items, false);\n\t\t\t}\n\t\t}, 500);\n\t});\n};\nbuildfire.components.carousel.view.lastCarouselTimer = null;\n// Carousel view methods\nbuildfire.components.carousel.view.prototype = {\n\tlastImage: null,\n    _applyConfigurations: function(options, callback) {\n\t\tlet self = this;\n\t\tlet { items, autoInterval, order, display } = options;\n\t\tif (buildfire.components.carousel.view.lastCarouselTimer) {\n\t\t\tclearInterval(buildfire.components.carousel.view.lastCarouselTimer);\n\t\t\tbuildfire.components.carousel.view.lastCarouselTimer = null;\n\t\t}\n\t\tlet isHome = buildfire.getFrameType() == 'LAUNCHER_PLUGIN';\n\t\tlet storagePlace = (isHome) ? \"carouselLastImageHome\" : \"carouselLastImage\";\n\t\tif (order == 0 && display == 1 && items.length > 1) {\n\t\t\tbuildfire.localStorage.getItem(storagePlace, function(err, res) {\n\t\t\t\tlet images = items;\n\t\t\t\tlet sendIndex = 0;\n\t\t\t\tlet item = null;\n\t\t\t\tif (res == null) {\n\t\t\t\t\titem = items[0];\n\t\t\t\t} else {\n\t\t\t\t\tlet index = Number(res);\n\t\t\t\t\tif (index == -1 || index == items.length - 1) item = items[0];\n\t\t\t\t\telse {item = items[index + 1]; sendIndex = index + 1;}\n\t\t\t\t}\n\t\t\t\tself.lastImage = item;\n\t\t\t\tbuildfire.localStorage.setItem(storagePlace, sendIndex, function(e, r) {\n\t\t\t\t\tif (autoInterval != 0) buildfire.components.carousel.view.lastCarouselTimer = setInterval(self._changeImage.bind(self), self.config.autoInterval, images, false);\n\t\t\t\t});\n\t\t\t\tcallback(null, {shouldInitializeLory: false});\n\t\t\t});\n\t\t} else if (order == 1 && display == 1 && items.length > 1) {\n\t\t\tif (autoInterval != 0) {\n\t\t\t\tbuildfire.components.carousel.view.lastCarouselTimer = setInterval(this._changeImage.bind(this), this.config.autoInterval, items, true);\n\t\t\t}\n\t\t\titem = items[Math.floor(Math.random() * items.length)];\n\t\t\tthis.lastImage = item;\n\t\t\tbuildfire.localStorage.removeItem(storagePlace);\n\t\t\tcallback(null, {shouldInitializeLory: false});\n\t\t} else if (order == 1 && display == 0 && items.length > 1) {\n\t\t\tthis._randomizeArray(items);\n\t\t\tbuildfire.localStorage.removeItem(storagePlace);\n\t\t\tcallback(null, {shouldInitializeLory: true});\n\t\t} else if (display == 1) {\n\t\t\tcallback(null, {shouldInitializeLory: false});\n\t\t} else {\n\t\t\tcallback(null, {shouldInitializeLory: true});\n\t\t}\n\t},\n\t_randomizeArray: function (images) {\n        this._shuffle(images, null, null);\n        let imagesCopy = Array.from(images);\n        this._shuffle(imagesCopy, null, images[images.length -  1]);\n        images.push(...imagesCopy);\n        this._shuffle(imagesCopy, images[0], images[images.length - 1]);\n        images.push(...imagesCopy);\n    },\n\t_shuffle: function (images, first, last) {\n        let j, x, i;\n        for (i = images.length - 1; i > 0; i--) {\n            j = Math.floor(Math.random() * (i + 1));\n            x = images[i];\n            images[i] = images[j];\n            images[j] = x;\n        }\n        if (last == images[0] || first == images[images.length - 1]) return this._shuffle(images, first, last);\n        else return images;\n    },\n\t_changeImage: function (carouselImages, random) {\n        let self = this;\n\t\tlet carouselImage = null;\n        if (random) {\n                this._changeStaticSlides(carouselImages, true);\n        } else {\n            let index = carouselImages.indexOf(this.lastImage);\n            let sendIndex = 0;\n            if (index == -1 || index == carouselImages.length - 1) {\n\t\t\t\tcarouselImage = carouselImages[0];\n\t\t\t} else {\n\t\t\t\tcarouselImage = carouselImages[index + 1]; \n\t\t\t\tsendIndex = index + 1;\n\t\t\t}\n            this.lastImage = carouselImage;\n            let isHome = buildfire.getFrameType() == 'LAUNCHER_PLUGIN';\n            let storagePlace = (isHome) ? \"carouselLastImageHome\" : \"carouselLastImage\";\n            buildfire.localStorage.setItem(storagePlace, sendIndex, function(e, r) {\n                self._changeStaticSlides(carouselImages);\n            });\n        }\n    },\n\t_changeStaticSlides: function (carouselImages, random) {\n\t\tlet activeSlide = document.querySelector('.js_slide.static_slide.active');\n\t\tlet siblingSlide = activeSlide.nextSibling;\n\t\tif (random) {\n\t\t\tlet nextSlide = document.querySelectorAll('.js_slide.static_slide')[Math.floor(Math.random() * carouselImages.length)];\n\t\t\tif (nextSlide.children[0].src == activeSlide.children[0].src) {\n\t\t\t\tthis._changeStaticSlides(carouselImages, true);\n\t\t\t} else {\n\t\t\t\tactiveSlide.classList.remove('active');\n\t\t\t\tnextSlide.classList.add('active');\n\t\t\t}\n\t\t} else {\n\t\t\tactiveSlide.classList.remove('active');\n\t\t\tif (siblingSlide) {\n\t\t\t\tsiblingSlide.classList.add('active');\n\t\t\t} else {\n\t\t\t\tdocument.querySelector('.js_slide.static_slide').classList.add('active');\n\t\t\t}\n\t\t}\n\t},\n\t_renderStaticSlides: function (carouselImages) {\n\t\tlet self = this;\n\t\tthis.selector.innerHTML = '';\n\t\tcarouselImages.forEach((carouselImage, index) => {\n\t\t\tlet slide = document.createElement('div');\n\t\t\tslide.classList.add('js_slide', 'static_slide');\n\t\t\tif (index == 0 && !self.lastImage) {\n\t\t\t\tslide.classList.add('active');\n\t\t\t} else if (self.lastImage && self.lastImage.iconUrl == carouselImage.iconUrl) {\n\t\t\t\tslide.classList.add('active');\n\t\t\t}\n\t\t\tslide.addEventListener('click', function () {\n\t\t\t\tbuildfire.actionItems.execute(carouselImage, function (err, result) {\n\t\t\t\t\tif (err) {\n\t\t\t\t\t\tconsole.warn('Error opening slider action: ', err);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\n\t\t\tlet options = {\n\t\t\t\titem: carouselImage,\n\t\t\t\tslide: slide\n\t\t\t}\n\t\t\tif (self.layout == 'Fit') {\n\t\t\t\tself._resizeImage(options, (err, result) => {\n\t\t\t\t\tif (err)  console.error('Error occurred while resizing image: ', err);\n\t\t\t\t\tself.selector.appendChild(slide);\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tself._cropImage(options, (err, result) => {\n\t\t\t\t\tif (err)  console.error('Error occurred while cropping image: ', err);\n\t\t\t\t\tself.selector.appendChild(slide);\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t\tlet activeSlide = document.querySelector('.js_slide.static_slide.active');\n\t\tif (!activeSlide) {\n\t\t\tdocument.querySelector('.js_slide.static_slide').classList.add('active');\n\t\t}\n\t},\n\tmergeSettings: function (options) {\n\t\tvar settings = {\n\t\t\tselector: '.js_percentage',\n\t\t\titems: [],\n\t\t\tlayout: null,\n\t\t\tspeed: 200,\n\t\t\tloop: true,\n\t\t\tautoInterval: 5 * 1000,\n\t\t\tdisplay: 0,\n\t\t\torder: 0\n\t\t};\n\t\tvar userSettings = options;\n\t\tfor (var attrName in userSettings) {\n\t\t\tsettings[attrName] = userSettings[attrName];\n\t\t}\n\t\treturn settings;\n\t},\n\tinit: function () {\n\t\tif (!this.selector) {\n\t\t\tthrow ('selector not found');\n\t\t\treturn;\n\t\t}\n\t\t// Add min-height to carousel to prevent it from pushing content down\n\t\tthis.selector.style['min-height'] = this._minHeight;\n\n\t\tvar self = this;\n\n\t\tfunction validateLauncherCarousel() {\n\t\t\tbuildfire.getContext(function (err, result) {\n\t\t\t\tif (result && result.device && result.device.platform && result.device.platform.toLowerCase() == 'ios' && buildfire.getFrameType() == 'LAUNCHER_PLUGIN') {\n\t\t\t\t\tbuildfire.navigation.onAppLauncherActive(function () {\n\t\t\t\t\t\tself._applySlider();\n\t\t\t\t\t}, true);\n\t\t\t\t\tbuildfire.navigation.onAppLauncherInactive(function () {\n\t\t\t\t\t\tself._destroySlider();\n\t\t\t\t\t}, true);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\tif (this.config.items && this.config.items.length > 0) {\n\t\t\tthis._renderHTMLItems(function () {\n\t\t\t\tself._applySlider();\n\t\t\t\tvalidateLauncherCarousel();\n\t\t\t});\n\t\t} else {\n\t\t\tself._applySlider();\n\t\t\tvalidateLauncherCarousel();\n\t\t}\n\t},\n\t_destroySlider: function () {\n\t\tif (this.timerInterval) {\n\t\t\tclearInterval(this.timerInterval);\n\t\t\tthis.timerInterval = null;\n\t\t}\n\t},\n\t_applySlider: function () {\n\t\tif (!this.lorySlider) {\n\t\t\tthis.lorySlider = lory(this.config.selector, {\n\t\t\t\tclassNameSlideContainer: this.config.classNameSlideContainer || 'js_slides',\n\t\t\t\tclassNameFrame: this.config.classNameFrame || 'js_frame',\n\t\t\t\tease: 'ease',\n\t\t\t\trewindSpeed: 600,//ms\n\t\t\t\tslideSpeed: this.config.speed,//ms\n\t\t\t\tslidesToScroll: this.config.slidesToScroll || 1,\n\t\t\t\tinfinite: this.config.items.length > 1 ? 1 : 0,\n\t\t\t\tenableMouseEvents: true\n\t\t\t});\n\t\t}\n\n\t\tif (this.config.loop && this.config.items && this.config.items.length > 1) {\n\t\t\tvar self = this;\n\n\t\t\tif (this.timerInterval) {\n\t\t\t\tclearInterval(this.timerInterval);\n\t\t\t\tthis.timerInterval = null;\n\t\t\t}\n\n\t\t\tthis.timerInterval = setInterval(function () {\n\t\t\t\tself.lorySlider.next();\n\t\t\t}, this.config.autoInterval);\n\t\t}\n\t},\n\t_renderHTMLItems: function (callback) {\n\t\tvar self = this;\n\n\t\twhile (this.selector.firstChild) {\n\t\t\tthis.selector.removeChild(this.selector.firstChild);\n\t\t}\n\n\t\tthis.sliderFrame = document.createElement('div');\n\t\t['loryFrame', 'js_frame'].forEach(function (cname) {\n\t\t\tself.sliderFrame.classList.add(cname);\n\t\t});\n\n\t\tthis.slideContainer = document.createElement('ul');\n\t\t['lorySlides', 'js_slides'].forEach(function (cname) {\n\t\t\tself.slideContainer.classList.add(cname);\n\t\t});\n\n\t\tthis._loadImages(this.config.items, function () {\n\t\t\t['slider', 'js_percentage', 'loryPercentage'].forEach(function (cname) {\n\t\t\t\tself.selector.classList.add(cname);\n\t\t\t});\n\n\t\t\tself.sliderFrame.appendChild(self.slideContainer);\n\t\t\tself.selector.appendChild(self.sliderFrame);\n\n\t\t\tcallback();\n\t\t});\n\t},\n\t_loadImages: function (items, callback) {\n\t\tvar self = this;\n\n\t\tvar itemsLength = items.length;\n\t\tvar pending = itemsLength;\n\n\t\tif (itemsLength == 0) {\n\t\t\tcallback();\n\t\t}\n\n\t\tfor (var i = 0; i < itemsLength; i++) {\n\t\t\tthis._appendItem(items[i], function (itemSlide) {\n\t\t\t\tpending--;\n\t\t\t\tself.slideContainer.appendChild(itemSlide);\n\n\t\t\t\tif (pending == 0) {\n\t\t\t\t\tcallback();\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t},\n\t_appendItem: function (item, callback) {\n\t\tlet self = this;\n\t\tlet slide = document.createElement('li');\n\t\tslide.classList.add('js_slide');\n\n\t\tslide.addEventListener('click', function () {\n\t\t\tif (self.preventClicks) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tbuildfire.actionItems.execute(item, function (err, result) {\n\t\t\t\tif (err) {\n\t\t\t\t\tconsole.warn('Error opening slider action: ', err);\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\n\t\tlet options = { item, slide }\n\t\tif (self.layout == 'Fit') {\n\t\t\tthis._resizeImage(options, (err, result) => {\n\t\t\t\tif (err)  console.error('Error occurred while cropping image: ', err);\n\t\t\t\tcallback(slide);\n\t\t\t});\n\t\t} else {\n\t\t\tthis._cropImage(options, (err, result) => {\n\t\t\t\tif (err)  console.error('Error occurred while cropping image: ', err);\n\t\t\t\tcallback(slide);\n\t\t\t});\n\t\t}\n\t},\n\t// allows you to append a single item or an array of items\n\tappend: function (items) {\n\t\tif (!items)\n\t\t\treturn;\n\t\telse if (!(items instanceof Array) && typeof(items) == 'object')\n\t\t\titems = [items];\n\n\t\tif (items && items instanceof Array && items.length) {\n\t\t\tfor (var i = 0; i < items.length; i++) {\n\t\t\t\tthis.config.items.push(items[i]);\n\t\t\t}\n\t\t\tvar self = this;\n\t\t\tif (this.config.display == 0) {\n\t\t\t\tthis.slideContainer.innerHTML = '';\n\t\t\t\tthis._loadImages(this.config.items, function () {\n\t\t\t\t\tif (self.config.items.length > 1 && !self.timerInterval) {\n\t\t\t\t\t\tself.lorySlider = null;\n\t\t\t\t\t\tself._applySlider();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tself.lorySlider.setup();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tthis._renderStaticSlides(this.config.items);\n\t\t\t}\n\t\t}\n\t},\n\tloadItems: function (items, appendItems) {\n\t\tif (appendItems) {\n\t\t\tthis.append(items);\n\t\t} else {\n\t\t\tlet self = this;\n\t\t\tthis.config.items = items;\n\t\t\tif (this.config.display == 0) {\n\t\t\t\tif (this.config.order == 1) {\n\t\t\t\t\tthis._randomizeArray(items);\n\t\t\t\t}\n\t\t\t\tthis.slideContainer.innerHTML = '';\n\t\t\t\tthis._loadImages(items, function () {\n\t\t\t\t\tif (items.length > 1 && !self.timerInterval) {\n\t\t\t\t\t\tself.lorySlider = null;\n\t\t\t\t\t\tself._applySlider();\n\t\t\t\t\t} else if (items.length <= 1 && self.timerInterval) {\n\t\t\t\t\t\tself._destroySlider();\n\t\t\t\t\t\tself.lorySlider = null;\n\t\t\t\t\t\tself._applySlider();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tself.lorySlider.setup();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tif (buildfire.components.carousel.view.lastCarouselTimer) {\n\t\t\t\t\tclearInterval(buildfire.components.carousel.view.lastCarouselTimer);\n\t\t\t\t\tbuildfire.components.carousel.view.lastCarouselTimer = null;\n\t\t\t\t}\n\t\t\t\tthis._renderStaticSlides(items);\n\t\t\t\tif (items.length > 1) {\n\t\t\t\t\tbuildfire.components.carousel.view.lastCarouselTimer = setInterval(this._changeImage.bind(this), this.config.autoInterval, items, this.config.order);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\t_initDimensions: function (layout) {\n\t\tthis.width = window.innerWidth;\n\t\tthis.layout = layout;\n\t\tlayout = layout || 'WideScreen';\n\t\tif (layout == 'WideScreen') {\n\t\t\tthis.height = Math.ceil(9 * this.width / 16);\n\t\t\tthis.aspect = '16:9';\n\t\t} else if (layout == 'Square') {\n\t\t\tthis.height = this.width;\n\t\t\tthis.aspect = '1:1';\n\t\t} else if (layout == 'Cinema') {\n\t\t\tthis.height = Math.ceil(1 * this.width / 2.39);\n\t\t\tthis.aspect = '2.39:1';\n\t\t} else if (layout == 'MobileScreen' || layout == 'Fit') {\n\t\t\tthis.height = (window.innerHeight / this.width) * this.width;\n\t\t\tthis.aspect = '9:16';\n\t\t} else {\n\t\t\tthis.height = Math.ceil(9 * this.width / 16);\n\t\t}\n\n\t\tthis.cssWidth = this.width + 'px';\n\t\tif (this.height > 380) {\n\t\t\tthis.cssHeight = '380px';\n\t\t} else {\n\t\t\tthis.cssHeight = this.height + 'px';\n\t\t}\n\n\t\t// Set Min height on carousel so doesn't push content down on load.\n\t\tthis._minHeight = this.cssHeight;\n\t},\n\t_cropImage: function(options, callback) {\n\t\tlet self = this;\n\t\tlet { item, slide } = options;\n\t\tbuildfire.imageLib.local.cropImage(item.iconUrl, {\n\t\t\twidth: this.width,\n\t\t\theight: this.height,\n\t\t\taspect: this.aspect,\n\t\t\tsize: 'full_width',\n\t\t}, function (err, result) {\n\t\t\tif (!err) {\n\t\t\t\tlet image = document.createElement('img');\n\t\t\t\tlet backgroundImage = document.createElement('img');\n\t\t\t\timage.src = result;\n\t\t\t\tbackgroundImage.src = buildfire.imageLib.cropImage(item.iconUrl, {\n\t\t\t\t\theight: Math.ceil(self.height / 20),\n\t\t\t\t\twidth: Math.ceil(self.width / 20),\n\t\t\t\t\tblur: 40,\n\t\t\t\t});\n\t\t\t\timage.alt = backgroundImage.alt = item.title || '';\n\t\t\t\tbackgroundImage.className = 'blurred-background-image';\n\t\t\t\tbackgroundImage.setAttribute('style', `width: 100% !important; height: ${self.height}px; top: 50%; left: 50%; transform: translate(-50%, -50%);`);\n\t\t\t\tslide.style.overflow = 'hidden';\n\t\t\t\timage.style.transform = 'translateZ(0)';\n\t\t\t\tif (self.height > 380) {\n\t\t\t\t\tslide.appendChild(backgroundImage);\n\t\t\t\t}\n\t\t\t\tslide.appendChild(image);\n\t\t\t\tcallback(null, result);\n\t\t\t} else {\n\t\t\t\tcallback(err, null);\n\t\t\t}\n\t\t});\n\t},\n\t_resizeImage: function(options, callback) {\n\t\tlet self = this;\n\t\tlet { item, slide } = options;\n\t\tbuildfire.imageLib.local.resizeImage(item.iconUrl, {\n\t\t\theight: self.height,\n\t\t}, function (err, result) {\n\t\t\tif (!err) {\n\t\t\t\tlet image = document.createElement('img');\n\t\t\t\tlet backgroundImage = document.createElement('img');\n\t\t\t\timage.src = result;\n\t\t\t\tbackgroundImage.src = buildfire.imageLib.cropImage(item.iconUrl, {\n\t\t\t\t\theight: Math.ceil(self.height / 20),\n\t\t\t\t\twidth: Math.ceil(self.width / 20),\n\t\t\t\t\tblur: 40,\n\t\t\t\t});\n\t\t\t\timage.alt = backgroundImage.alt = item.title || '';\n\t\t\t\tbackgroundImage.className = 'blurred-background-image';\n\t\t\t\tbackgroundImage.setAttribute('style', `width: 100% !important; height: ${self.height}px; top: 50%; left: 50%; transform: translate(-50%, -50%);`);\n\t\t\t\timage.style.transform = 'translateZ(0)';\n\t\t\t\tslide.setAttribute('style', `vertical-align: middle; overflow: visible;`);\n\t\t\t\tslide.appendChild(backgroundImage);\n\t\t\t\tslide.appendChild(image);\n\t\t\t\tcallback(null, result);\n\t\t\t} else {\n\t\t\t\tcallback(err, null);\n\t\t\t}\n\t\t});\n\t},\n\t_attachEventListeners: function() {\n\t\tlet self = this;\n\t\t// add event listeners to prevent immediate click event after scrolling \n\t\tthis.selector.addEventListener('on.lory.touchmove', function () {\n\t\t\tif (!self.preventClicks) {\n\t\t\t\tself.preventClicks = true;\n\t\t\t}\n\t\t});\n\t\tthis.selector.addEventListener('on.lory.touchend', function () {\n\t\t\tsetTimeout(() => {\n\t\t\t\tself.preventClicks = false;\n\t\t\t}, 0);\n\t\t});\n\t}\n};\n"]}